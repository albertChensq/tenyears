<extend name="Public:base" />
<block name="head">
	<G name="keyword" content="十年后 10years">
	<title>账户设置-十年后</title>
	<link href="__ROOT__/Public/static/img/favicon.ico" rel="shortcut icon" />
	<link href="__ROOT__/Public/static/css/settings.min.css" rel="stylesheet" type="text/css" />
	<link href="__ROOT__/Public/static/libs/farbtastic/farbtastic.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="__PUBLIC__/static/css/uploadify.css">
	<script src="__ROOT__/Public/static/js/zh_cn.js" type='text/javascript'></script>
</block>

<block name="main">
	<input type="hidden" value="{$sex}" id="usersex">
	<div id="content" class="main auto-resize shadow">
	<!-- 个人设置与修改密码标签页 -->
		<ul class="title-box list-inline">
			<li class="active"><a href="#settings" role="tab" data-toggle="tab">个人档案</a></li>
			<li class="unactive"><a href="#password-edit" role="tab" data-toggle="tab">修改密码</a></li>
		</ul>
  
		<div class="tab-content">
			<!-- 个人设置panel -->
		  	<div class="tab-pane active fade in" id="settings">
		  	
		  		<div  class="form-horizontal ">
				    <div class="form-group">
				        <label for="photo" class="control-label">头像:</label>

				        <div class="Avatar">

				        	<div class="photo">
				        		<img src="__PUBLIC__/static/uploads/{$headpic}" class="headpic-setting" id="headpic-setting">
				        	</div>
				        	<div  id="upphoto">
				        		<input type="file"  name="file_upload" id="file_upload">
				        	</div>
				        </div>
				    </div>
				</div>

				<span id="reviewspan">头像预览</span>
				<div id="imgs">
				    <div>
				    	<img width="200"  src="__PUBLIC__/static/uploads/{$headpic}">
				    </div>
					
				</div>
				<form class="form-horizontal settings-form" role="form" id="info-form" method="post" action="__CONTROLLER__/infomod">
				    <div class="form-group ">
				        <label for="user-name" class="control-label">昵称:</label>
				        <div class="input">
				        	<input type="hidden" name="headpic" value= '' id="images">
				            <input type="text" value="{$nickname}" class="form-control input-count" name="nickname" id="user-name" placeHolder="给自己取个名字" min="0.5" max="8" chartype="2">
				            <div class="tooltip fade right in hide" style="top: 260px; left: 610px; display: block;">
    							<div class="tooltip-arrow"></div>
    							<div class="tooltip-inner">请输入中文，英文，数字或下划线</div>
							</div>
				        </div>
				        <div class="count hide" is-ok="ok">
				            <span class="current-count">0</span>/8
				        </div>
				        <div class="require tooltip fade right in">
				        	<div class="tooltip-arrow"></div>
				        	<div class="tooltip-inner">必填</div>
				        </div>
				    </div>
				    <div class="form-group">
				        <label for="city" class="control-label">地点:</label>
				        <div class="input">
				            <input type="text" value="{$address}" class="form-control input-count" name="address" id="city" placeHolder="你所处的地方" min="0" max="10" chartype="2">
				        </div>
				        <div class="count" is-ok="ok">
				            <span class="current-count">0</span>/10
				        </div>
				    </div>
				    <div class="form-group">
				        <label for="age" class="control-label">年龄:</label>
				        <div class="input">
				            <input type="text" value="{$age}" class="form-control" name="age" id="age" placeHolder="你多大了">
				        </div>
				        <div class="count" is-ok="ok">
				            <span id="age-count">1-99</span>
				        </div>
				    </div>
				    <div class="form-group">
				        <label class="control-label">性别:</label>
				        <div class="input">
				        	<label for="gender-male" class="radio-inline">
				            	<input type="radio" value="1" name="sex" id="gender-male"> 男
				            </label>
				            <label for="gender-female" class="radio-inline">
				            	<input type="radio" value="0" name="sex" id="gender-female" > 女
				            </label>
				        </div>
				    </div>
				    <div class="form-group">
				        <label for="current-desc" class="control-label">现在是:</label>
				        <div class="input">
				            <input type="text" value="{$current_desc}" class="form-control input-count" name="current_desc" id="current-desc" placeHolder="你现在是怎样的人" min="0" max="10" chartype="2">
				        </div>
				        <div class="count" is-ok="ok">
				        	<span class="current-count">0</span>/10
				        </div>
				    </div>
				    <div class="form-group">
				        <label for="future-desc" class="control-label">想成为:</label>
				        <div class="input">
				            <input type="text" value="{$future_desc}" class="form-control input-count" name="future_desc" id="future-desc" placeHolder="十年后你想成为怎样的人" min="0" max="10" chartype="2">
				        </div>
				        <div class="count" is-ok="ok">
				        	<span class="current-count">0</span>/10
				        </div>
				    </div>
				    <div class="form-group">
				    	<label class="control-label"></label>
				        <div class="input">
				            <button id="submit-info" class="btn btn-blue">保存</button>
				        </div>
				        <div class="tooltip fade right in hide" style="top: 555px; left: 610px; display: block;">
							<div class="tooltip-arrow"></div>
							<div class="tooltip-inner">修改成功</div>
						</div>
				    </div>
				</form>
			</div>
			
			<!-- 修改密码panel -->
			<div class="tab-pane fade" id="password-edit">

				<form class="form-horizontal" role="form" id="password-form" onsubmit="return false">
					<div class="change-password-success-tip hide"></div>
				    <div class="form-group">
				        <label for="current-password" class="control-label">当前密码:</label>
				        <div class="input">
				            <input type="password" typex="password" class="form-control input-count" name="current-password" id="current-password" min="1" max="999" chartype="1">
				        </div>
				        <div class="tooltip fade right in hide" style="top: 173px; left: 610.5px; display: block;">
    						<div class="tooltip-arrow"></div>
    						<div class="tooltip-inner">密码不正确</div>
						</div>
				    </div>
				    <div class="form-group">
				        <label for="new-password" class="control-label">新密码:</label>
				        <div class="input">
				            <input type="password" typex="password" class="form-control input-count" name="new-password" id="new-password" min="6" max="20" chartype="1">
				        </div>
				        <div class="count hide">
				            <span class="current-count">0</span>/20，至少6个字符</span>
				        </div>
				    </div>
				    <div class="form-group">
				        <label for="confirm-password" class="control-label">确认密码:</label>
				        <div class="input">
				            <input type="password" typex="password" class="form-control" name="confirm-password" id="confirm-password">
				        </div>
				        <div class="tooltip fade right in hide" style="top: 271px; left: 610.5px; display: block;">
							<div class="tooltip-arrow"></div>
    						<div class="tooltip-inner">密码不一致</div>
						</div>
				    </div>
				    <div class="form-group">
				    	<label class="control-label"></label>
				        <div class="input">
				            <button type="submit" id="mod-password" class="btn btn-blue" disabled="disabled">保存</button>
				        </div>
				        <div class="tooltip fade right in hide" style="top: 320px; left: 610px; display: block;">
							<div class="tooltip-arrow"></div>
							<div class="tooltip-inner">修改成功</div>
						</div>
				    </div>
				</form>

			</div>
		</div>
	</div>
</block>

<block name="script">
	<script src="__PUBLIC__/static/js/jquery.js" type='text/javascript' ></script>
	<script src="__PUBLIC__/static/js/bootstrap.min.js" type='text/javascript' ></script>
	<!-- 自定义js事件，相关ajax请求 -->
	<script src="__PUBLIC__/static/js/settings.my.js" type='text/javascript' ></script>
	<script src="__PUBLIC__/static/js/login.reg.js" type='text/javascript' ></script>
	<script src='__PUBLIC__/static/js/jquery.uploadify.min.js'></script>
	<script>
        var img = '';
		$('#file_upload').uploadify({
	        	'swf'      : '__PUBLIC__/static/flash/uploadify.swf',
	        	'uploader' : '{:U("UserSettings/upload")}',
	        	'buttonText' : '上传头像',
	        	'onUploadSuccess' : function(file, data, response) {
	        	 img += "<img width='200px' src='__PUBLIC__/static/uploads/"+data+"'>";
	            $('#imgs').html(img);
	            $('#images').val(data);
        	}
    	});
    </script>

</block>